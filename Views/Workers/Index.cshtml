@model IEnumerable<Firma.Models.Worker>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @if (Request.IsAuthenticated && User.IsInRole("admin") || User.IsInRole("moderator"))
    {
        @Html.ActionLink("Create New", "Create")
    }
    </p>


<div class="container">
    <div class="row" style="display:flex;display:-webkit-flex;flex-wrap:wrap;">
            @foreach (var item in Model)
            {
        <div class="col-sm-2" style="margin: 1em; border:thin dotted">



            @if (item.Photo != null)

            {
                <img src="@Url.Action("GetImage", new { item.Id })" class="img-rounded" style="max-width:80%; height:auto;" />
            }

            <h3 style="text-align:center">@Html.DisplayFor(modelItem => item.LastName)</h3>

            <p>@Html.DisplayFor(modelItem => item.Job.JobName)</p>

            <p>@Html.DisplayFor(modelItem => item.Phone)</p>

            <p>
                @Html.ActionLink("Details", "Details", new { id = item.Id })


                @if (Request.IsAuthenticated && User.IsInRole("admin") || User.IsInRole("moderator"))
                {
                    <text>|</text> @Html.ActionLink("Edit", "Edit", new { id = item.Id })
                }
                @if (Request.IsAuthenticated && User.IsInRole("admin"))
                {
                    <text>|</text> @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                }
            </p>
        </div>
            }

       
    </div>
</div>

           
       